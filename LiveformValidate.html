<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
     <h2>Registration Form</h2>

    <!-- Name Field -->
    <label>Name:</label><br>
    <input type="text" id="name" onchange="validateName()">
    <p id="nameMsg" ></p>

    <br>

    <!-- Email Field -->
    <label>Email:</label><br>
    <input type="text" id="email" onchange="validateEmail()">
    <p id="emailMsg" ></p>

    <br>

    <!-- Age Field -->
    <label>Age:</label><br>
    <input type="number" id="age" onchange="validateAge()">
    <p id="ageMsg" ></p>

    <br>

    <!-- Submit Button -->
    <button onclick="submitForm()">Register</button>

    <p id="successMsg" ></p>

    <script>
        // Validate Name
        function validateName() {
            let name = document.getElementById("name").value;
            if (name.trim() === "") {
                document.getElementById("nameMsg").innerText = "Name cannot be empty.";
                return false;
            } else {
                document.getElementById("nameMsg").innerText = "";
                return true;
            }
        }

        // Validate Email
        function validateEmail() {
            let email = document.getElementById("email").value;
            if (!email.includes("@gmail.com")) {
                document.getElementById("emailMsg").innerText = "Email must contain '@' gmail.com";
                return false;
            } else {
                document.getElementById("emailMsg").innerText = "";
                return true;
            }
        }

        // Validate Age
        function validateAge() {
            let age = document.getElementById("age").value;
            if (age <= 18 || age === "") {
                document.getElementById("ageMsg").innerText = "Age must be greater than 18.";
                return false;
            } else {
                document.getElementById("ageMsg").innerText = "";
                return true;
            }
        }

        // Submit Form
        function submitForm() {
            let isNameValid = validateName();
            let isEmailValid = validateEmail();
            let isAgeValid = validateAge();

            if (isNameValid && isEmailValid && isAgeValid) {
                let userData = {
                    name: document.getElementById("name").value,
                    email: document.getElementById("email").value,
                    age: document.getElementById("age").value
                };

                // Store data in sessionStorage
                sessionStorage.setItem("userData", JSON.stringify(userData));

                document.getElementById("successMsg").innerText = 
                    "Registration successful! Data stored in sessionStorage.";
            } else {
                document.getElementById("successMsg").innerText = "";
            }
        }
    </script>
</body>
</html>